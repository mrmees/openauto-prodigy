# Release Packaging Conventions

This document defines the canonical naming and structure for prebuilt Raspberry Pi releases.

## Scope

- Target hardware: Raspberry Pi 4
- Target architecture: `aarch64`
- Delivery format: `.tar.gz` archive generated by `tools/package-prebuilt-release.sh`

## Naming Convention

- Git release tag: `v<major>.<minor>.<patch>`
  - Example: `v0.3.0`
- Prebuilt asset filename:
  - `openauto-prodigy-prebuilt-<tag>-pi4-aarch64.tar.gz`
  - Example: `openauto-prodigy-prebuilt-v0.3.0-pi4-aarch64.tar.gz`
- Archive root directory:
  - `openauto-prodigy-prebuilt-<tag>-pi4-aarch64/`

## Archive Structure

```text
openauto-prodigy-prebuilt-<tag>-pi4-aarch64/
  install-prebuilt.sh
  RELEASE.json
  payload/
    build/src/openauto-prodigy
    config/
    system-service/
    web-config/
    restart.sh
```

## Metadata (`RELEASE.json`)

The release package includes `RELEASE.json` with:

- `project`: fixed value `openauto-prodigy`
- `version_tag`: release tag used for packaging
- `target`: fixed value `pi4-aarch64` unless overridden in packaging script
- `asset_name`: final tarball filename
- `git_commit`: short commit hash used during packaging
- `created_utc`: package creation timestamp (UTC)

## Backward Compatibility

The installer's GitHub prebuilt selector accepts legacy assets named:

- `openauto-prodigy-prebuilt-<tag>.tar.gz`

But new releases should use the full target-qualified convention.
