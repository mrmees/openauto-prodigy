syntax = "proto2";

import "ManeuverTypeEnum.proto";
import "LaneShapeEnum.proto";

package oaa.proto.messages;

// Navigation notification (msgId 0x8006 on Nav channel)
// Sent by phone with turn-by-turn instructions and destination info
// APK class: vzo.java (AA v16.1) — NOT utj.java (collision match)
message NavigationNotification {
    repeated NavigationStep steps = 1;                  // APK: repeated vzu
    repeated NavigationDestination destinations = 2;    // APK: repeated vze
}

// APK class: vzu.java
message NavigationStep {
    optional NavigationManeuver maneuver = 1;           // APK: vzk
    optional NavigationText instruction = 2;            // APK: vzn
    repeated NavigationLane lanes = 3;                  // APK: repeated vzj
    optional NavigationRoadInfo road_info = 4;          // APK: vzc
}

// APK class: vzk.java — maneuver type with roundabout parameters
message NavigationManeuver {
    optional enums.ManeuverType.Enum type = 1;          // APK: enum via vee.R()
    optional int32 roundabout_exit_number = 2;          // APK: maneuver.b
    optional int32 roundabout_turn_angle = 3;           // APK: maneuver.c
}

// APK class: vzn.java
message NavigationText {
    optional string text = 1;
}

// APK class: vzj.java — lane guidance
message NavigationLane {
    repeated NavigationLaneDirection directions = 1;    // APK: repeated vzi
}

// APK class: vzi.java — individual lane direction
message NavigationLaneDirection {
    optional enums.LaneShape.Enum shape = 1;            // APK: enum vzh
    optional bool is_recommended = 2;
}

// APK class: vzc.java — road name segments
message NavigationRoadInfo {
    repeated string road_names = 1;
}

// APK class: vze.java — destination with optional EV charging info
message NavigationDestination {
    optional string address = 1;
    optional ChargingStationDetails charging_station = 2;  // APK: vwz
}

// APK class: vwz.java — EV charging station details
message ChargingStationDetails {
    optional int32 connector_count = 1;     // APK: chargingStationDetails.a
    optional int32 available_count = 2;     // APK: chargingStationDetails.b
    optional int32 max_power_kw = 3;        // APK: chargingStationDetails.c
}
