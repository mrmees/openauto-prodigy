syntax = "proto3";

package oaa.proto.messages;

import "NavigationDistanceDisplayData.proto";

// APK class: xnb — Navigation distance/ETA update (msgId 0x8007 on Nav channel)
// Sent periodically by phone during active navigation
message NavigationDistance {
    optional data.NavigationDistanceValue distance = 1;  // APK: xmw
    optional string eta_text = 2;
    optional int32 eta_seconds = 3;
    optional NavigationDistanceInfo info = 8;             // APK: xng
}

// APK class: xng — groups distance displays and alternates
message NavigationDistanceInfo {
    optional data.NavigationDistanceDisplay display = 1;          // APK: xnd
    repeated data.NavigationDistanceDisplay alternate_display = 2; // APK: repeated xnd
    optional NavigationDistanceOneof oneof_display = 4;           // APK: xne
}

// APK class: xne — wrapper for repeated distance entries
message NavigationDistanceOneof {
    repeated NavigationDistanceEntry entries = 1;  // APK: repeated xnf
}

// APK class: xnf — single distance entry (display + metadata)
message NavigationDistanceEntry {
    optional data.NavigationDistanceDisplay display = 1;  // APK: xnd
    optional int32 value = 2;
    optional uint64 metadata = 3;
}
